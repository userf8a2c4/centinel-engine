# Configuración centralizada para C.E.N.T.I.N.E.L.
# Centralized configuration for C.E.N.T.I.N.E.L.

# URL base del endpoint de resultados (placeholder).
# Base URL for results endpoint (placeholder).
base_url: "https://results.example.org/api/v1/summary"

# Endpoints operativos (placeholders).
# Operational endpoints (placeholders).
endpoints:
  nacional: "https://results.example.org/api/v1/nacional"
  fallback_nacional: "https://results.example.org/api/v1/nacional/fallback"

# Interruptor maestro (ON/OFF) para procesos automáticos.
# Master switch (ON/OFF) for automatic processes.
master_switch: "OFF"

# Cadencia operativa recomendada (documentación de referencia).
# Recommended operating cadence (documentation reference).
scrape_cadence:
  maintenance_days: 30
  monitoring_hours: 24
  election_minutes: 5

# Parámetros de red.
# Network parameters.
timeout: 20
retries: 5
backoff_base_seconds: 2
backoff_max_seconds: 60

# Circuit Breaker para respuestas hostiles.
# Circuit breaker for hostile responses.
circuit_breaker:
  failure_threshold: 5
  failure_window_seconds: 600
  open_timeout_seconds: 1800
  half_open_after_seconds: 600
  success_threshold: 2
  open_log_interval_seconds: 300

# Modo low-profile (stealth).
# Low-profile mode (stealth).
low_profile:
  enabled: false
  base_interval_minutes: 60
  jitter_percent: 25
  timeout_seconds: 45
  accept_languages:
    - "es-HN,es;q=0.9,en-US;q=0.8,en;q=0.7"
    - "es-ES,es;q=0.9,en-US;q=0.8,en;q=0.7"
    - "en-US,en;q=0.9,es;q=0.7"
    - "en-GB,en;q=0.9,es;q=0.6"
    - "es-MX,es;q=0.9,en;q=0.7"
  referers:
    - "https://www.google.com/"
    - "https://www.bing.com/"
    - "https://duckduckgo.com/"
    - "https://search.yahoo.com/"
    - "https://www.wikipedia.org/"
  user_agents:
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:123.0) Gecko/20100101 Firefox/123.0"
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:122.0) Gecko/20100101 Firefox/122.0"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 13_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.3 Safari/605.1.15"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 13_5) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.2 Safari/605.1.15"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 12_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Safari/605.1.15"
    - "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (X11; Linux x86_64; rv:121.0) Gecko/20100101 Firefox/121.0"
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Edg/122.0.0.0"
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Edg/121.0.0.0"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 14_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (iPhone; CPU iPhone OS 17_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.3 Mobile/15E148 Safari/604.1"
    - "Mozilla/5.0 (iPhone; CPU iPhone OS 16_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
    - "Mozilla/5.0 (iPad; CPU OS 17_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.3 Mobile/15E148 Safari/604.1"
    - "Mozilla/5.0 (Linux; Android 14; Pixel 7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Mobile Safari/537.36"
    - "Mozilla/5.0 (Linux; Android 13; SM-S918B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Mobile Safari/537.36"
    - "Mozilla/5.0 (Linux; Android 12; SM-A528B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Mobile Safari/537.36"
    - "Mozilla/5.0 (Linux; Android 14; Pixel 6a; rv:122.0) Gecko/20100101 Firefox/122.0"
    - "Mozilla/5.0 (Linux; Android 13; SAMSUNG SM-G781B) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/24.0 Chrome/120.0.0.0 Mobile Safari/537.36"
    - "Mozilla/5.0 (Windows NT 11.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Brave Chrome/121.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36"

# Encabezados HTTP.
# HTTP headers.
headers:
  Accept: "application/json"
  User-Agent: "C.E.N.T.I.N.E.L./1.0 (command-center-example)"

# Fallback Playwright (anti-bloqueo básico).
# Playwright fallback (basic anti-blocking).
use_playwright: false
playwright_stealth: true
playwright_user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120 Safari/537.36"
playwright_locale: "es-HN"
playwright_timezone: "America/Tegucigalpa"
playwright_viewport:
  width: 1280
  height: 720

# Cantidad esperada de candidatos (referencial).
# Expected number of candidates (reference).
candidate_count: 4

# Llaves obligatorias (puede quedar vacío).
# Required keys (can be empty).
required_keys:
  - "estadisticas"
  - "resultados"

# Mapeo de campos de origen a esquema interno.
# Map source fields to internal schema.
field_map:
  totals:
    valid_votes:
      - "estadisticas.distribucion_votos.validos"
    null_votes:
      - "estadisticas.distribucion_votos.nulos"
    blank_votes:
      - "estadisticas.distribucion_votos.blancos"
    total_votes:
      - "estadisticas.distribucion_votos.total"
  candidate_roots:
    - "resultados"

# Fuentes configurables (nacional + departamentos).
# Configurable sources (national + departments).
sources:
  - name: "Nacional (demo)"
    source_id: "NACIONAL"
    level: "PRES"
    scope: "NATIONAL"
  - name: "Departamento Demo"
    department_code: "99"
    level: "PD"
    scope: "DEPARTMENT"

# Reglas de análisis.
# Analysis rules.
rules:
  global_enabled: true
  trend_shift:
    enabled: true
    threshold_percent: 10
    max_hours: 3
  processing_speed:
    enabled: true
    max_actas_per_15min: 500
  irreversibility:
    enabled: true
    historical_participation_rate: 0.60
    sqlite_path: "reports/irreversibility_state.db"
  benford_law:
    enabled: true
    chi_square_threshold: 0.05
    deviation_pct: 15
    min_samples: 10
  ml_outliers:
    enabled: true
    contamination: 0.1
    min_samples: 5
  basic_diff:
    enabled: true
    relative_vote_change_pct: 15
  participation_anomaly:
    enabled: true
    scrutiny_jump_pct: 5
  benford_first_digit:
    enabled: true
    mad_warning: 0.008
    mad_critical: 0.015
    chi_pvalue_critical: 0.01
    min_samples: 15
  last_digit_uniformity:
    enabled: true
    chi_pvalue_critical: 0.001
    min_samples: 20
  table_consistency:
    enabled: true
    total_tolerance: 1
  participation_anomaly_advanced:
    enabled: true
    min_turnout_pct: 40
    max_turnout_pct: 90
    historical_mean: 0.6
    historical_std: 0.1
  turnout_impossible:
    enabled: true
    min_turnout_pct: 0
    max_turnout_pct: 100
  null_blank_votes:
    enabled: true
    warning_pct: 8
    critical_pct: 12
  snapshot_jump:
    enabled: true
    max_change_pct: 5
    max_minutes: 10
  participation_vote_correlation:
    enabled: true
    critical_r: 0.85
    min_samples: 30
  geographic_dispersion:
    enabled: true
    critical_cv: 0.45
    min_departments: 5
  runs_test:
    enabled: true
    critical_pvalue: 0.01
    min_samples: 30
  mesas_diff:
    enabled: true

# Logging centralizado.
# Centralized logging.
logging:
  level: "INFO"
  file: "C.E.N.T.I.N.E.L.log"

# Blockchain (placeholder).
# Blockchain (placeholder).
blockchain:
  enabled: false
  network: "base"
  private_key: ""

# Alertas y criterios críticos.
# Alerts and critical criteria.
alerts:
  critical_anomaly_types: []
  log_path: "alerts.log"
  output_path: "data/alerts.json"

# Resiliencia operativa.
# Operational resilience.
resilience:
  auto_resume:
    enabled: true
    max_attempts: 5
    backoff_base_seconds: 5
    backoff_max_seconds: 60
    retry_on: "any"
  chaos:
    enabled: false
    failure_rate: 0.9
    seed: 2026

# Configuración de Arbitrum (placeholder).
# Arbitrum configuration (placeholder).
arbitrum:
  enabled: false
  network: "Arbitrum One"
  rpc_url: ""
  private_key: ""
  contract_address: ""
  explorer_url: "https://arbiscan.io/tx/"
  interval_minutes: 60
  batch_size: 19
  auto_anchor_snapshots: true
