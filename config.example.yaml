# Ejemplo de configuración para C.E.N.T.I.N.E.L.
# Example configuration for C.E.N.T.I.N.E.L.

# URL base del endpoint de resultados (placeholder).
# Base URL for results endpoint (placeholder).
base_url: "https://results.example.org/api/v1/summary"

# Endpoints principales (placeholders).
# Main endpoints (placeholders).
endpoints:
  nacional: "https://results.example.org/api/v1/nacional"
  fallback_nacional: "https://results.example.org/api/v1/nacional/fallback"

# Interruptor maestro (ON/OFF) para procesos automáticos.
# Master switch (ON/OFF) for automatic processes.
master_switch: "OFF"

# Parámetros de red.
# Network parameters.
timeout: 20
retries: 5
backoff_base_seconds: 2
backoff_max_seconds: 60

# Encabezados HTTP.
# HTTP headers.
headers:
  Accept: "application/json"
  User-Agent: "C.E.N.T.I.N.E.L./1.0 (config-example)"

# Fallback Playwright (anti-bloqueo básico).
# Playwright fallback (basic anti-blocking).
use_playwright: false
playwright_stealth: true
playwright_user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120 Safari/537.36"
playwright_locale: "es-HN"
playwright_timezone: "America/Tegucigalpa"
playwright_viewport:
  width: 1280
  height: 720

# Cantidad esperada de candidatos (referencial).
# Expected number of candidates (reference).
candidate_count: 4

# Llaves obligatorias (puede quedar vacío).
# Required keys (can be empty).
required_keys:
  - "estadisticas"
  - "resultados"

# Mapeo de campos de origen a esquema interno.
# Map source fields to internal schema.
field_map:
  totals:
    valid_votes:
      - "estadisticas.distribucion_votos.validos"
    null_votes:
      - "estadisticas.distribucion_votos.nulos"
    blank_votes:
      - "estadisticas.distribucion_votos.blancos"
    total_votes:
      - "estadisticas.distribucion_votos.total"
  candidate_roots:
    - "resultados"

# Fuentes de ingesta (DataSourceManager).
# Ingestion sources (DataSourceManager).
data_sources:
  - source_id: "cne_api"
    kind: "cne_api"
    base_url: "https://results.example.org"
    batch_path: "/api/v1/actas/batch"
    data_key: "actas"
    headers:
      Accept: "application/json"
  - source_id: "mirror_bucket"
    kind: "mirror_bucket"
    base_url: "https://public-bucket.s3.amazonaws.com"
    batch_path: "/actas/latest.json"
  - source_id: "citizen_mirror"
    kind: "citizen_mirror"
    base_url: "https://mirror.example.org"
    batch_path: "/actas/latest.json"
  - source_id: "telegram_channel"
    kind: "telegram_channel"
    enabled: false
  - source_id: "fallback_scrape"
    kind: "fallback_scrape"
    enabled: false

# Fuentes configurables.
# Configurable sources.
sources:
  - name: "Nacional (demo)"
    source_id: "NACIONAL"
    level: "PRES"
    scope: "NATIONAL"
  - name: "Departamento Demo"
    department_code: "99"
    level: "PD"
    scope: "DEPARTMENT"

# Logging centralizado.
# Centralized logging.
logging:
  level: INFO
  file: "C.E.N.T.I.N.E.L.log"

# Blockchain (placeholder).
# Blockchain (placeholder).
blockchain:
  enabled: false
  network: polygon-mumbai
  private_key: "0x..."

# Alertas críticas.
# Critical alerts.
alerts:
  critical_anomaly_types:
    - ARITHMETIC_MISMATCH
    - NEGATIVE_DELTA
    - CHANGE_POINT
    - RELATIVE_DELTA
    - SCRUTINY_JUMP
    - VOTE_BREAKDOWN_MISMATCH
  log_path: "alerts.log"
  output_path: "data/alerts.json"

# Resiliencia operativa.
# Operational resilience.
resilience:
  auto_resume:
    enabled: true
    max_attempts: 5
    backoff_base_seconds: 5
    backoff_max_seconds: 60
    retry_on: "any"
  chaos:
    enabled: false
    failure_rate: 0.9
    seed: 2026

# Configuración Arbitrum (placeholder).
# Arbitrum configuration (placeholder).
arbitrum:
  enabled: false
  network: "Arbitrum One"
  rpc_url: "https://arb1.arbitrum.io/rpc"
  private_key: "0x..."
  contract_address: "0x..."
  explorer_url: "https://arbiscan.io/tx/"
  interval_minutes: 15
  batch_size: 19
  auto_anchor_snapshots: true

# Reglas de análisis.
# Analysis rules.
rules:
  global_enabled: true
  trend_shift:
    enabled: true
    threshold_percent: 10
    max_hours: 3
  processing_speed:
    enabled: true
    max_actas_per_15min: 500
  irreversibility:
    enabled: true
    historical_participation_rate: 0.60
    sqlite_path: "reports/irreversibility_state.db"
  benford_law:
    enabled: true
    chi_square_threshold: 0.05
    deviation_pct: 15
    min_samples: 10
